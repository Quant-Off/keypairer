# Keypairer 프로젝트 기여 가이드라인

`Keypairer`는 다양한 양자 내성(Post-Quantum Cryptography, PQC) 알고리즘을 지원하는 키 페어 생성 도구입니다. 이 문서는 `Keypairer` 프로젝트에 기여하고자 하는 개발자, 보안 전문가, 테스터 및 기타 커뮤니티 구성원을 위한 가이드라인을 제공합니다. 여러분의 기여는 프로젝트의 발전에 큰 도움이 됩니다!

## 기여 방법

`Keypairer` 프로젝트에 기여할 수 있는 주요 방법은 다음과 같습니다.

- **버그 리포트**: 애플리케이션의 버그를 발견한 경우 이를 보고하여 개선에 기여
- **기능 제안**: 새로운 PQC 알고리즘 지원, 성능 최적화, 보안 강화 등의 아이디어를 제안
- **코드 기여**: 코드 수정, 신규 기능 구현, 성능 최적화, 보안 개선 등
- **문서 개선**: `README`, 코드 주석, `API` 문서 등의 문서를 개선 및 개별 언어 문서 추가
- **테스트**: 테스트 케이스 작성 및 실행을 통해 안정성 향상
- **다국어 지원**: 새로운 언어팩 추가 및 기존 번역 개선

## 시작하기

### 1. 개발 환경 설정

Keypairer에 기여하기 위해 다음 환경을 준비해야 합니다.

- **Rust**: Rust (Rustup 1.28+, Rustc 1.90+)
- **Cargo**: Rust 패키지 매니저 (1.90+)
- **의존성**:
  - `pqcrypto`: PQC 알고리즘 구현
  - `pqcrypto-traits`: PQC 트레이트 정의
  - `base64`: Base64 인코딩/디코딩
  - `zeroize`: 메모리 안전 삭제
  - `serde/serde_json`: JSON 파싱 (i18n)
- **IDE**: VS Code, IntelliJ IDEA, Vim 등 Rust 개발에 적합한 에디터
- **Git**: 코드 버전 관리를 위한 Git 설치

프로젝트를 로컬 환경에 복제하려면 다음 명령어를 실행하세요.

```bash
# 저장소 복제
$ git clone https://github.com/Quant-Off/keypairer.git
$ cd keypairer
```

### 2. 프로젝트 구조

프로젝트의 주요 디렉토리 구조는 다음과 같습니다.

```plain
keypairer/
├── src/                    # 소스 코드
│   ├── main.rs            # 메인 로직 및 인자 파싱
│   ├── i18n.rs            # 다국어 지원
│   ├── keygen.rs          # 키 생성 로직
│   ├── key_io.rs          # 파일 I/O 및 PEM 변환
│   └── util.rs            # 유틸리티 함수
├── i18n/                  # 다국어 번역 파일
│   └── en.json            # 영어 번역
├── target/                # 빌드 결과물
├── README.md              # 프로젝트 개요
├── CONTRIBUTION.md        # 이 문서
├── Cargo.toml             # Rust 프로젝트 설정
└── Cargo.lock             # 의존성 잠금 파일
```

## 기여 절차

### 1. 이슈 생성

기여를 시작하기 전에 `GitHub` 저장소에서 관련 이슈를 확인하거나 새 이슈를 생성하세요.

- **버그 리포트**: 버그의 재현 단계, 예상 동작, 실제 동작, 환경 정보(Rust 버전, OS 등)를 포함하세요.
- **기능 제안**: 제안하는 기능의 목적, 예상 구현 방법, 사용자에게 미치는 영향을 설명하세요.
- **보안 이슈**: 보안 관련 문제는 공개 이슈 대신 개인적으로 연락해주세요.
- 이슈 템플릿을 사용하여 표준화된 형식으로 작성하세요.

### 2. 저장소 포크 및 브랜치 생성

1. `Keypairer` 저장소를 자신의 `GitHub` 계정으로 포크합니다.
2. 로컬에 저장소를 복제한 후, 새로운 브랜치를 생성합니다.

    ```bash
    git checkout -b feature/[기능-이름]  # 기능 추가
    git checkout -b bugfix/[버그-이름]   # 버그 수정
    git checkout -b security/[보안-이름] # 보안 개선
    ```

3. 브랜치 이름은 작업의 목적을 명확히 반영해야 합니다(예시: `feature/add-kyber-support`, `bugfix/fix-stack-overflow`, `security/improve-memory-handling`).

### 3. 코드 작성 가이드라인

- **코드 스타일**:
  - Rust 코드 스타일은 [Rust Style Guide](https://doc.rust-lang.org/nightly/style-guide/)를 따릅니다.
  - `cargo fmt`를 사용하여 코드 포맷팅을 일관되게 유지하세요.
  - `cargo clippy`를 사용하여 코드 품질을 검사하세요.
- **주석**: 코드의 주요 로직에 대해 설명하는 주석을 추가하세요. 특히 암호학적 연산이나 보안 관련 로직은 상세히 주석 처리하세요.
- **테스트**: 새로운 기능이나 수정 사항에 대해 단위 테스트를 작성하세요. 테스트는 `src/` 디렉토리 내에 `#[cfg(test)]` 모듈로 추가합니다.
- **의존성 관리**: 새로운 의존성을 추가할 경우, `Cargo.toml`에 명시하고 이유를 이슈에 설명하세요.
- **보안 고려사항**:
  - 비밀키나 민감한 데이터는 `zeroize`를 사용하여 메모리에서 안전하게 삭제하세요.
  - 파일 권한을 적절히 설정하세요(비밀키 파일은 `0o600`).
  - 스택 오버플로우를 방지하기 위해 대용량 데이터는 힙에 할당하세요.

### 4. 커밋 및 푸시

- 커밋 메시지는 명확하고 간결하게 작성하세요. 예시는 다음과 같습니다.

  ```plain
  feat: ML-KEM 1024 지원 추가
  fix: McEliece 키 생성 시 스택 오버플로우 수정
  security: 비밀키 메모리 삭제 개선
  docs: README 다국어 지원 섹션 추가
  ```

- 변경 사항을 푸시하기 전에 로컬에서 테스트를 실행하여 빌드와 기능이 정상 작동하는지 확인하세요.

  ```bash
  # cargo 빌드 및 테스트, 코드 포멧팅/품질 검사
  $ cargo build
  $ cargo test
  $ cargo clippy
  $ cargo fmt --check
  ```

### 5. 풀 리퀘스트(PR) 제출

1. 포크한 저장소에서 변경 사항을 푸시합니다.

   ```bash
   git push origin feature/[기능-이름]
   ```

2. GitHub에서 풀 리퀘스트를 생성하고, 다음 내용을 포함하세요.
    - 관련 이슈 번호(예시: `Fixes #123`)
    - 변경 사항의 간략한 설명
    - 테스트 결과 또는 스크린샷(필요 시)
    - 보안 관련 변경사항이 있다면 상세한 설명
3. PR은 최소 한 명의 리뷰어의 승인을 받아야 병합됩니다.

## 코드 리뷰 기준

- 코드가 프로젝트의 기능적, 비기능적 요구사항을 충족하는지
- 코드 가독성과 유지보수 가능성
- 보안 취약점이 없는지
- 테스트 케이스의 충실성
- 기존 코드와의 호환성
- 성능에 미치는 영향

## 커뮤니티 규칙

- 모든 기여자는 [Contributor Covenant Code of Conduct](https://www.contributor-covenant.org/version/2/0/code_of_conduct/)를 준수해야 합니다.
- 존중과 협력을 바탕으로 커뮤니티에 참여해주세요.
- 질문이나 논의는 `GitHub` 이슈를 통해 진행하세요.

## 추가 참고사항

- **PQC 알고리즘**: 새로운 PQC 알고리즘 지원을 위한 기여는 NIST 표준을 참조하세요. 관련 자료는 [NIST PQC 표준화](https://csrc.nist.gov/projects/post-quantum-cryptography) 또는 [위키피디아](https://en.wikipedia.org/wiki/NIST_Post-Quantum_Cryptography_Standardization)를 참조하세요.
- **보안**: 보안 관련 기여는 암호학적 지식이 필요합니다. 특히 메모리 관리, 파일 권한, 키 생성 과정의 보안을 중시합니다.
- **다국어 지원**: 새로운 언어팩 추가 시 `i18n/` 디렉토리에 JSON 파일을 추가하고, `src/i18n.rs`에서 로딩 로직을 구현하세요.
- **성능**: 대용량 키 생성 시 스택 오버플로우를 방지하기 위해 `util::run_with_large_stack` 함수를 활용하세요.
- **문서화**: 문서 기여 시, 한국어 문법과 마크다운 형식을 준수하세요.

## 보안 보고

보안 취약점을 발견한 경우, 공개 이슈를 생성하지 마시고 다음 방법으로 연락해주세요.

- [디스코드 서버](https://discord.gg/ZnDThnSGsE)에서 관련 채널에 기재
- 프로젝트 메인테이너 또는 `Quant`팀원에게 직접 연락

보안 이슈는 신속하게 처리되며, 보고해주신 분께 감사의 표시를 드립니다.

## 문의

기여와 관련된 질문은 `GitHub` 이슈를 통해 제기해주세요. 여러분의 기여를 환영합니다!

---

**참고**: 이 프로젝트는 교육 및 연구 목적으로 제작되었습니다. 프로덕션 환경에서 사용하기 전에 보안 검토를 수행하세요.
